{% extends 'main/base.html' %}
{% load static %}
{% block content %}

<head>
    <title>{% block title %}Change password [{{ request.user.username }}]{% endblock %}</title>
</head>

<div class="col-12 col-md-12 col-lg-10 col-xl-8 mx-auto my-5 p-3">
    <div class="card-login-register p-5">
        <form method="post" action="">
            {% csrf_token %}
            <div class="form-group">
                <h3 class="mt-3 text-center p-3">Change password</h3>
                <label for="old_password" class="ms-2 h5">Old password</label>
                <input name="old_password" class="form-control form-control-lg my-3" placeholder="Old password"
                    type="password" id="id_old_password" required="true" autofocus>
                <label for="new_password1" class="ms-2 h5">New password</label>
                <input name="new_password1" class="form-control form-control-lg my-3" placeholder="New password"
                    type="password" id="id_new_password1" required="true">
                <label for="new_password2" class="ms-2 h5">Confirm password</label>
                <input name="new_password2" class="form-control form-control-lg my-3" placeholder="Confirm password"
                    type="password" id="id_new_password2" required="true">

            </div>
            <div class="form-group bttns text-center">
                <button class="btn btn-success btn-block" name="login" type="submit">Change</button>
                <a class="btn btn-outline-dark btn-block" href="{% url 'account:profile' %}">Cancel</a>
            </div>
            <div class="col-md-12 mb-4 text-center py-2 errors">
                {% for field in login_form %}
                {% for error in field.errors %}
                <p>{{error}}</p>
                {% endfor %}
                {% endfor %}
                {% if login_form.non_field_errors %}
                <p>{{ login_form.non_field_errors }}</p>
                {% endif %}
            </div>
        </form>
    </div>
</div>

{% endblock %}